{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ruan2\\\\Desktop\\\\Nova pasta (12)\\\\src\\\\context\\\\StoreConfigContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { createContext, useContext, useEffect, useState } from \"react\";\nimport api from \"../api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StoreConfigContext = /*#__PURE__*/createContext();\nexport function StoreConfigProvider({\n  children\n}) {\n  _s();\n  const [cfg, setCfg] = useState(null);\n  useEffect(() => {\n    load();\n  }, []);\n  async function load() {\n    try {\n      const r = await api.get(\"/store-config\");\n      setCfg(r.data);\n\n      // ðŸ”¥ APLICAR TEMA NO SITE\n      applyTheme(r.data);\n    } catch (err) {\n      console.error(\"Erro ao carregar configuraÃ§Ãµes da loja\", err);\n    }\n  }\n\n  // -------------------------------------------------------\n  // âœ… APLICA AS CONFIGURAÃ‡Ã•ES NO BODY\n  // -------------------------------------------------------\n  function applyTheme(config) {\n    if (!config) return;\n\n    // Aplicar cor do tema\n    if (config.themeColor) {\n      document.documentElement.style.setProperty(\"--theme-color\", config.themeColor);\n    }\n\n    // Aplicar imagem de fundo\n    if (config.backgroundImage && config.backgroundImage.trim() !== \"\") {\n      const url = config.backgroundImage.startsWith(\"/images\") ? config.backgroundImage : `/images/${config.backgroundImage}`;\n      document.body.style.setProperty(\"--bg-image\", `url(${url})`);\n    } else {\n      // Se nÃ£o tiver imagem, remove fundo\n      document.body.style.setProperty(\"--bg-image\", \"none\");\n    }\n  }\n\n  // -------------------------------------------------------\n  // Quando cfg mudar (admin salvou), aplica automaticamente\n  // -------------------------------------------------------\n  useEffect(() => {\n    if (cfg) applyTheme(cfg);\n  }, [cfg]);\n  return /*#__PURE__*/_jsxDEV(StoreConfigContext.Provider, {\n    value: {\n      cfg,\n      setCfg,\n      load\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n}\n_s(StoreConfigProvider, \"n1ITTsG/opvXawHMvVTP5+/4ewk=\");\n_c = StoreConfigProvider;\nexport function useStoreConfig() {\n  _s2();\n  return useContext(StoreConfigContext);\n}\n_s2(useStoreConfig, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nvar _c;\n$RefreshReg$(_c, \"StoreConfigProvider\");","map":{"version":3,"names":["createContext","useContext","useEffect","useState","api","jsxDEV","_jsxDEV","StoreConfigContext","StoreConfigProvider","children","_s","cfg","setCfg","load","r","get","data","applyTheme","err","console","error","config","themeColor","document","documentElement","style","setProperty","backgroundImage","trim","url","startsWith","body","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","useStoreConfig","_s2","$RefreshReg$"],"sources":["C:/Users/ruan2/Desktop/Nova pasta (12)/src/context/StoreConfigContext.js"],"sourcesContent":["import { createContext, useContext, useEffect, useState } from \"react\";\r\nimport api from \"../api\";\r\n\r\nconst StoreConfigContext = createContext();\r\n\r\nexport function StoreConfigProvider({ children }) {\r\n  const [cfg, setCfg] = useState(null);\r\n\r\n  useEffect(() => {\r\n    load();\r\n  }, []);\r\n\r\n  async function load() {\r\n    try {\r\n      const r = await api.get(\"/store-config\");\r\n      setCfg(r.data);\r\n\r\n      // ðŸ”¥ APLICAR TEMA NO SITE\r\n      applyTheme(r.data);\r\n\r\n    } catch (err) {\r\n      console.error(\"Erro ao carregar configuraÃ§Ãµes da loja\", err);\r\n    }\r\n  }\r\n\r\n  // -------------------------------------------------------\r\n  // âœ… APLICA AS CONFIGURAÃ‡Ã•ES NO BODY\r\n  // -------------------------------------------------------\r\n  function applyTheme(config) {\r\n    if (!config) return;\r\n\r\n    // Aplicar cor do tema\r\n    if (config.themeColor) {\r\n      document.documentElement.style.setProperty(\r\n        \"--theme-color\",\r\n        config.themeColor\r\n      );\r\n    }\r\n\r\n    // Aplicar imagem de fundo\r\n    if (config.backgroundImage && config.backgroundImage.trim() !== \"\") {\r\n      const url = config.backgroundImage.startsWith(\"/images\")\r\n        ? config.backgroundImage\r\n        : `/images/${config.backgroundImage}`;\r\n\r\n      document.body.style.setProperty(\"--bg-image\", `url(${url})`);\r\n    } else {\r\n      // Se nÃ£o tiver imagem, remove fundo\r\n      document.body.style.setProperty(\"--bg-image\", \"none\");\r\n    }\r\n  }\r\n\r\n  // -------------------------------------------------------\r\n  // Quando cfg mudar (admin salvou), aplica automaticamente\r\n  // -------------------------------------------------------\r\n  useEffect(() => {\r\n    if (cfg) applyTheme(cfg);\r\n  }, [cfg]);\r\n\r\n  return (\r\n    <StoreConfigContext.Provider value={{ cfg, setCfg, load }}>\r\n      {children}\r\n    </StoreConfigContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useStoreConfig() {\r\n  return useContext(StoreConfigContext);\r\n}"],"mappings":";;;AAAA,SAASA,aAAa,EAAEC,UAAU,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AACtE,OAAOC,GAAG,MAAM,QAAQ;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEzB,MAAMC,kBAAkB,gBAAGP,aAAa,CAAC,CAAC;AAE1C,OAAO,SAASQ,mBAAmBA,CAAC;EAAEC;AAAS,CAAC,EAAE;EAAAC,EAAA;EAChD,MAAM,CAACC,GAAG,EAAEC,MAAM,CAAC,GAAGT,QAAQ,CAAC,IAAI,CAAC;EAEpCD,SAAS,CAAC,MAAM;IACdW,IAAI,CAAC,CAAC;EACR,CAAC,EAAE,EAAE,CAAC;EAEN,eAAeA,IAAIA,CAAA,EAAG;IACpB,IAAI;MACF,MAAMC,CAAC,GAAG,MAAMV,GAAG,CAACW,GAAG,CAAC,eAAe,CAAC;MACxCH,MAAM,CAACE,CAAC,CAACE,IAAI,CAAC;;MAEd;MACAC,UAAU,CAACH,CAAC,CAACE,IAAI,CAAC;IAEpB,CAAC,CAAC,OAAOE,GAAG,EAAE;MACZC,OAAO,CAACC,KAAK,CAAC,wCAAwC,EAAEF,GAAG,CAAC;IAC9D;EACF;;EAEA;EACA;EACA;EACA,SAASD,UAAUA,CAACI,MAAM,EAAE;IAC1B,IAAI,CAACA,MAAM,EAAE;;IAEb;IACA,IAAIA,MAAM,CAACC,UAAU,EAAE;MACrBC,QAAQ,CAACC,eAAe,CAACC,KAAK,CAACC,WAAW,CACxC,eAAe,EACfL,MAAM,CAACC,UACT,CAAC;IACH;;IAEA;IACA,IAAID,MAAM,CAACM,eAAe,IAAIN,MAAM,CAACM,eAAe,CAACC,IAAI,CAAC,CAAC,KAAK,EAAE,EAAE;MAClE,MAAMC,GAAG,GAAGR,MAAM,CAACM,eAAe,CAACG,UAAU,CAAC,SAAS,CAAC,GACpDT,MAAM,CAACM,eAAe,GACtB,WAAWN,MAAM,CAACM,eAAe,EAAE;MAEvCJ,QAAQ,CAACQ,IAAI,CAACN,KAAK,CAACC,WAAW,CAAC,YAAY,EAAE,OAAOG,GAAG,GAAG,CAAC;IAC9D,CAAC,MAAM;MACL;MACAN,QAAQ,CAACQ,IAAI,CAACN,KAAK,CAACC,WAAW,CAAC,YAAY,EAAE,MAAM,CAAC;IACvD;EACF;;EAEA;EACA;EACA;EACAxB,SAAS,CAAC,MAAM;IACd,IAAIS,GAAG,EAAEM,UAAU,CAACN,GAAG,CAAC;EAC1B,CAAC,EAAE,CAACA,GAAG,CAAC,CAAC;EAET,oBACEL,OAAA,CAACC,kBAAkB,CAACyB,QAAQ;IAACC,KAAK,EAAE;MAAEtB,GAAG;MAAEC,MAAM;MAAEC;IAAK,CAAE;IAAAJ,QAAA,EACvDA;EAAQ;IAAAyB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACkB,CAAC;AAElC;AAAC3B,EAAA,CA3DeF,mBAAmB;AAAA8B,EAAA,GAAnB9B,mBAAmB;AA6DnC,OAAO,SAAS+B,cAAcA,CAAA,EAAG;EAAAC,GAAA;EAC/B,OAAOvC,UAAU,CAACM,kBAAkB,CAAC;AACvC;AAACiC,GAAA,CAFeD,cAAc;AAAA,IAAAD,EAAA;AAAAG,YAAA,CAAAH,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}